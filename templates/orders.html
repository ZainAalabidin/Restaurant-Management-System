{% extends "base.html" %}
{% block title %}Menu - Yummy Restaurant{% endblock %}
{% block content %}
    <h1>All Orders</h1>
    <table class="table table-striped table-bordered">
        <tr>
            <th>Order ID</th>
            <th>Username</th>
            <th>Order Created At</th>
            <th>Table Number</th>
            <th>Total Price</th>
            <th>Status</th>
            <th>Action</th>
            
        </tr>
        {% for order in orders %}
        <tr>
            <td>{{ order['order_id'] }}</td>
            <td>{{ order['username'] }}</td>
            <td>{{ order['order_created_at'] }}</td>
            <td>{{ order['table_number'] }}</td>
            <td>{{ order['total_price'] }}</td>
            <td>
                <form action="{{ url_for('order.update_order_status', order_id=order['order_id']) }}" method="post">
                  <select name="status" class="form-control">
                    <option value="Pending" {% if order.status == 'Pending' %}selected{% endif %}>Pending</option>
                    <option value="In Progress" {% if order.status == 'In Progress' %}selected{% endif %}>In Progress</option>
                    <option value="Completed" {% if order.status == 'Completed' %}selected{% endif %}>Completed</option>
                    <option value="Cancelled" {% if order.status == 'Cancelled' %}selected{% endif %}>Cancelled</option>
                  </select>
              </td>
              <td>
                <button type="submit" class="btn btn-primary btn-sm">Update</button>
                </form>
              </td>
            <td><a href="{{ url_for('order.order_details', order_id=order['order_id']) }}">View Details</a></td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
{% endblock %}

